# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é Navidrome

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–±—Ä–∞—Ç—å Docker –æ–±—Ä–∞–∑
```bash
./build-image.sh
```

### 2. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä

**–í–∞—Ä–∏–∞–Ω—Ç A: –° –≤–≤–æ–¥–æ–º –ø–∞—Ä–æ–ª—è (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)**
```bash
./deploy-manual.sh
```
–í—ã –±—É–¥–µ—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∑–∞–ø—Ä–æ—à–µ–Ω—ã –≤–≤–µ—Å—Ç–∏ SSH –ø–∞—Ä–æ–ª—å.

**–í–∞—Ä–∏–∞–Ω—Ç B: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSH –∫–ª—é—á (–æ–¥–∏–Ω —Ä–∞–∑, –ø–æ—Ç–æ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)**
```bash
# 1. –°–æ–∑–¥–∞—Ç—å SSH –∫–ª—é—á (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç)
ssh-keygen -t ed25519 -C "your_email@example.com"

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh-copy-id root@SERVER_IP

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø (–¥–æ–ª–∂–µ–Ω –∑–∞–π—Ç–∏ –±–µ–∑ –ø–∞—Ä–æ–ª—è)
ssh root@SERVER_IP "echo 'SSH key works!'"

# 4. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
./deploy-full.sh
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://qirim.cloud
2. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+R –∏–ª–∏ Cmd+Shift+R)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ—à–∏–±–∫–∞ Service Worker –∏—Å—á–µ–∑–ª–∞

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```bash
ssh root@SERVER_IP
cd /opt/navidrome
docker compose restart navidrome
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
ssh root@SERVER_IP
cd /opt/navidrome
docker compose logs -f navidrome
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
ssh root@SERVER_IP
cd /opt/navidrome
docker compose ps
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤

- `build-image.sh` - —Å–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞ –ª–æ–∫–∞–ª—å–Ω–æ
- `deploy-manual.sh` - –¥–µ–ø–ª–æ–π —Å –≤–≤–æ–¥–æ–º –ø–∞—Ä–æ–ª—è
- `deploy-full.sh` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π (—Ç—Ä–µ–±—É–µ—Ç SSH –∫–ª—é—á)
- `push-to-server.sh` - —Ç–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ–±—Ä–∞–∑–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- `restart.sh` - –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

---

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### SSH –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É
ping SERVER_IP

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SSH –ø–æ—Ä—Ç
nc -zv SERVER_IP 22

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SSH –∫–æ–Ω—Ñ–∏–≥
ssh -v root@SERVER_IP
```

### Docker –æ–±—Ä–∞–∑ –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à Docker
docker builder prune -a

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
./build-image.sh
```

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
ssh root@SERVER_IP "cd /opt/navidrome && docker compose logs --tail=100 navidrome"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å docker-compose.yml
ssh root@SERVER_IP "cd /opt/navidrome && cat docker-compose.yml"
```

---

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

1. ‚úÖ **Service Worker –æ—à–∏–±–∫–∞** - –¥–æ–±–∞–≤–ª–µ–Ω –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–π —Ñ–∞–π–ª `workbox-expiration.prod.js`
2. ‚úÖ **DSF –±–∏–±–ª–∏–æ—Ç–µ–∫–∞** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ DSF —á–µ—Ä–µ–∑ pre-built TagLib
3. ‚úÖ **–°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (zlib, taglib)
4. ‚úÖ **–°–∫—Ä–∏–ø—Ç—ã –¥–µ–ø–ª–æ—è** - —Å–æ–∑–¥–∞–Ω—ã —É–¥–æ–±–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## –í–µ—Ä—Å–∏—è

–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: `v0.58.0-QO`
–û–±—Ä–∞–∑: `navidrome-qo:latest`
